<!DOCTYPE html>
<html>
<head>
  <meta name="360-site-verification" content="75ba9f01bc7007c114960763194ea594" />
  <meta name="shenma-site-verification" content="af7a569cbd897189a1d354f5a546e9cf_1448262814"/>
  <meta name="sogou_site_verification" content="5w3a9otWtO"/>
  <meta name="baidu-site-verification" content="Cgw2xbM7Ic" />
  <meta name="baidu_union_verify" content="f55e2001837ebf7201cf0e0127fdf65e">
  <meta name="msvalidate.01" content="BFA6D650605B5004050507525BDDAEF8" />
  <meta charset="utf-8">
  
  <title>Android编程规范不完全指南【转】 | 绝世盗草人的博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1. 命名规则1.1 类名，接口名：以大写开头，如果一个类的类名由多个单词组成，所有单词的首字母必须大写，单词尽量写全称，不要简写，除非约定俗成的名字，例如：URL，RTMP，RTSP这些广泛使用的专有名词，可以全部大写，也可以首字母大写。
例如：HttpRequest，CourseActivity
1.2 局部变量，类的成员变量，类的成员函数，函数参数：以小写字母开头其他的单词首字母大写，变量名">
<meta property="og:type" content="article">
<meta property="og:title" content="Android编程规范不完全指南【转】">
<meta property="og:url" content="http://www.iamding.cn/2015-12/15-cir6hfbq7001p9wr2e56muysd/index.html">
<meta property="og:site_name" content="绝世盗草人的博客">
<meta property="og:description" content="1. 命名规则1.1 类名，接口名：以大写开头，如果一个类的类名由多个单词组成，所有单词的首字母必须大写，单词尽量写全称，不要简写，除非约定俗成的名字，例如：URL，RTMP，RTSP这些广泛使用的专有名词，可以全部大写，也可以首字母大写。
例如：HttpRequest，CourseActivity
1.2 局部变量，类的成员变量，类的成员函数，函数参数：以小写字母开头其他的单词首字母大写，变量名">
<meta property="og:updated_time" content="2016-01-10T09:58:44.306Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android编程规范不完全指南【转】">
<meta name="twitter:description" content="1. 命名规则1.1 类名，接口名：以大写开头，如果一个类的类名由多个单词组成，所有单词的首字母必须大写，单词尽量写全称，不要简写，除非约定俗成的名字，例如：URL，RTMP，RTSP这些广泛使用的专有名词，可以全部大写，也可以首字母大写。
例如：HttpRequest，CourseActivity
1.2 局部变量，类的成员变量，类的成员函数，函数参数：以小写字母开头其他的单词首字母大写，变量名">
  
    <link rel="alternative" href="/atom.xml" title="绝世盗草人的博客" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?0b8e8ee87e4708173f00d9048c309301";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/cat.png" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">绝世盗草人</a></h1>
		</hgroup>

		
		<p class="header-subtitle">未看此花时，花与汝同寂，待看此花时，此花犹艳丽。</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
				    
						</ul>
						
							
						
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/ahtcfg24" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/u/3180900562" title="weibo">weibo</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/DreamFactory/" style="font-size: 13.33px;">DreamFactory</a> <a href="/tags/Java/" style="font-size: 16.67px;">Java</a> <a href="/tags/Linux/" style="font-size: 16.67px;">Linux</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://ahtcfg24.github.io/Web/BayMax/index.html/">大白传奇</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://ahtcfg24.github.io/Web/Cloud/index.html/">云端传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.51plusplus.com/">呆海的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.zhrmoe.com/">然妞的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.yifans.org/blog/">凡爷的精神病院</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iming.org/blog/">铭的笔记本</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">吾名徐鼎，丙子年夏至诞，天资愚笨，所幸笨鸟先飞，于娘胎中修炼数月，换得一口先天真气，持久不散，遂有今朝。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">绝世盗草人</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/img/cat.png" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">绝世盗草人</h1>
			</hgroup>
			
			<p class="header-subtitle">未看此花时，花与汝同寂，待看此花时，此花犹艳丽。</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/ahtcfg24" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/u/3180900562" title="weibo">weibo</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-Android编程规范不完全指南【转】" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015-12/15-cir6hfbq7001p9wr2e56muysd/" class="article-date">
  	<time datetime="2015-12-15T00:43:43.000Z" itemprop="datePublished">2015-12-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Android编程规范不完全指南【转】
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-__u547D_u540D_u89C4_u5219"><a href="#1-__u547D_u540D_u89C4_u5219" class="headerlink" title="1. 命名规则"></a>1. 命名规则</h1><h2 id="1-1__u7C7B_u540D_uFF0C_u63A5_u53E3_u540D_uFF1A"><a href="#1-1__u7C7B_u540D_uFF0C_u63A5_u53E3_u540D_uFF1A" class="headerlink" title="1.1 类名，接口名："></a>1.1 类名，接口名：</h2><p>以大写开头，如果一个类的类名由多个单词组成，所有单词的首字母必须大写，单词尽量写全称，不要简写，除非约定俗成的名字，例如：<code>URL</code>，<code>RTMP</code>，<code>RTSP</code>这些广泛使用的专有名词，可以全部大写，也可以首字母大写。</p>
<p>例如：<code>HttpRequest</code>，<code>CourseActivity</code></p>
<h2 id="1-2__u5C40_u90E8_u53D8_u91CF_uFF0C_u7C7B_u7684_u6210_u5458_u53D8_u91CF_uFF0C_u7C7B_u7684_u6210_u5458_u51FD_u6570_uFF0C_u51FD_u6570_u53C2_u6570_uFF1A"><a href="#1-2__u5C40_u90E8_u53D8_u91CF_uFF0C_u7C7B_u7684_u6210_u5458_u53D8_u91CF_uFF0C_u7C7B_u7684_u6210_u5458_u51FD_u6570_uFF0C_u51FD_u6570_u53C2_u6570_uFF1A" class="headerlink" title="1.2 局部变量，类的成员变量，类的成员函数，函数参数："></a>1.2 局部变量，类的成员变量，类的成员函数，函数参数：</h2><p>以小写字母开头其他的单词首字母大写，变量名不建议使用下划线分隔单词，建议使用驼峰命名法，Android 的系统类都采用此方法。</p>
<p>例如：<code>toString()</code>，<code>onCreateView(Bundle saveInstanceState)</code><br><a id="more"></a></p>
<h2 id="1-3__u9759_u6001_u5E38_u91CF_uFF1A"><a href="#1-3__u9759_u6001_u5E38_u91CF_uFF1A" class="headerlink" title="1.3 静态常量："></a>1.3 静态常量：</h2><p>常量单词全部大写，所以单词之间使用下划线分隔。</p>
<p>例如：<code>WHAT_EMPTY_CONTENT</code></p>
<h2 id="1-4__u63A7_u4EF6_u53D8_u91CF_u7684_u547D_u4EE4_uFF0C_u63A7_u4EF6_u7684ID_u547D_u540D_uFF1A"><a href="#1-4__u63A7_u4EF6_u53D8_u91CF_u7684_u547D_u4EE4_uFF0C_u63A7_u4EF6_u7684ID_u547D_u540D_uFF1A" class="headerlink" title="1.4 控件变量的命令，控件的ID命名："></a>1.4 控件变量的命令，控件的ID命名：</h2><p>建议：xml 布局文件中的控件的id的命令与*.java的代码文件中的空间对象的命名保持一致。<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> &#123;</span></span><br><span class="line">    <span class="type">TextView</span> txtUserName;</span><br><span class="line">    ...</span><br><span class="line">    void onCreate(<span class="type">Bundle</span> saveInstanceState) &#123;</span><br><span class="line">        txtUserName = (<span class="type">TextView</span>) findViewById(<span class="type">R</span>.id.txtUserName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="1-5__u5E38_u7528_u63A7_u4EF6_u4EE5_u53CA_u7C7B_u5BF9_u8C61_u547D_u540D_u7684_u89C4_u8303_u8BF4_u660E_uFF1A"><a href="#1-5__u5E38_u7528_u63A7_u4EF6_u4EE5_u53CA_u7C7B_u5BF9_u8C61_u547D_u540D_u7684_u89C4_u8303_u8BF4_u660E_uFF1A" class="headerlink" title="1.5 常用控件以及类对象命名的规范说明："></a>1.5 常用控件以及类对象命名的规范说明：</h2><table>
<thead>
<tr>
<th style="text-align:center">类名</th>
<th style="text-align:center">变量名</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">TextView</td>
<td style="text-align:center">txtDescription</td>
</tr>
<tr>
<td style="text-align:center">ProgressBar</td>
<td style="text-align:center">progressDescription</td>
</tr>
<tr>
<td style="text-align:center">Button</td>
<td style="text-align:center">btnDescription</td>
</tr>
<tr>
<td style="text-align:center">SeekBar</td>
<td style="text-align:center">seekBarDescription</td>
</tr>
<tr>
<td style="text-align:center">ImageButton</td>
<td style="text-align:center">imgBtnDescription</td>
</tr>
<tr>
<td style="text-align:center">VideoView</td>
<td style="text-align:center">vvDescription</td>
</tr>
<tr>
<td style="text-align:center">ImageView</td>
<td style="text-align:center">imgDescription</td>
</tr>
<tr>
<td style="text-align:center">Spinner</td>
<td style="text-align:center">spinDescription</td>
</tr>
<tr>
<td style="text-align:center">RadioButton</td>
<td style="text-align:center">rbDescription</td>
</tr>
<tr>
<td style="text-align:center">WebView</td>
<td style="text-align:center">webViewDescription</td>
</tr>
<tr>
<td style="text-align:center">EditText</td>
<td style="text-align:center">editDescription</td>
</tr>
<tr>
<td style="text-align:center">ListView</td>
<td style="text-align:center">listViewDescription</td>
</tr>
<tr>
<td style="text-align:center">ScrollView</td>
<td style="text-align:center">scrollDescription</td>
</tr>
<tr>
<td style="text-align:center">GridView</td>
<td style="text-align:center">gridDescription</td>
</tr>
<tr>
<td style="text-align:center">Handler</td>
<td style="text-align:center">descriptionHandler</td>
</tr>
<tr>
<td style="text-align:center">RatingBar</td>
<td style="text-align:center">ratingBarDescription</td>
</tr>
<tr>
<td style="text-align:center">PullToRefreshListView</td>
<td style="text-align:center">pullRefreshViewDescription</td>
</tr>
<tr>
<td style="text-align:center">Adapter</td>
<td style="text-align:center">descriptionAdapter</td>
</tr>
<tr>
<td style="text-align:center">Fragment</td>
<td style="text-align:center">descriptionFragment</td>
</tr>
<tr>
<td style="text-align:center">Activity</td>
<td style="text-align:center">descriptionActivity</td>
</tr>
<tr>
<td style="text-align:center">List<T></td>
<td style="text-align:center">descriptionList</td>
</tr>
<tr>
<td style="text-align:center">Map&lt;&gt;</td>
<td style="text-align:center">mapDescription</td>
</tr>
<tr>
<td style="text-align:center">SlidingMenu</td>
<td style="text-align:center">slidMenuDescription</td>
</tr>
<tr>
<td style="text-align:center">ViewPager</td>
<td style="text-align:center">viewPagerDescription</td>
</tr>
<tr>
<td style="text-align:center">CheckBox</td>
<td style="text-align:center">chBoxDescription</td>
</tr>
<tr>
<td style="text-align:center">View</td>
<td style="text-align:center">viewDescription</td>
</tr>
<tr>
<td style="text-align:center">RadioGroup</td>
<td style="text-align:center">rgDescription</td>
</tr>
<tr>
<td style="text-align:center">ExpandableListView</td>
<td style="text-align:center">expDescription</td>
</tr>
<tr>
<td style="text-align:center">FrameLayout</td>
<td style="text-align:center">frameLayDescription</td>
</tr>
<tr>
<td style="text-align:center">SharedPreferences</td>
<td style="text-align:center">spDescription</td>
</tr>
<tr>
<td style="text-align:center">LinearLayout</td>
<td style="text-align:center">lineLayDescription</td>
</tr>
<tr>
<td style="text-align:center">RelativeLayout</td>
<td style="text-align:center">relativeLayDescription</td>
</tr>
<tr>
<td style="text-align:center">startActivityForResult(requestCode)</td>
<td style="text-align:center">REQUEST_CODE_DESCRIPTION</td>
</tr>
<tr>
<td style="text-align:center">msg.what</td>
<td style="text-align:center">WHAT_DESCRIPTION</td>
</tr>
</tbody>
</table>
<h2 id="1-6__u8D44_u6E90_u547D_u540D_uFF1A"><a href="#1-6__u8D44_u6E90_u547D_u540D_uFF1A" class="headerlink" title="1.6 资源命名："></a>1.6 资源命名：</h2><ul>
<li>layout资源文件的命名（全部小写，下划线分隔）：</li>
<li>activity资源文件：<code>activity_description1_description2.xml</code></li>
<li>fragment资源文件：<code>fragment_description1_description2.xml</code></li>
<li>listview列表项资源文件：<code>list_item_description1_description2.xml</code></li>
<li>可复用（被include）的组件资源文件：<code>control_description1_description2.xml</code></li>
<li>drawable资源：<code>controlName_description1_description2_selector.xml</code><br>controlName表示该资源要用在什么类型的控件上，例如：如果是按钮的图片切换则应该命名为<code>button_bg_sendmessage_selector.xml</code>,<br>selector表示该资源的形式，例如还有shape等</li>
<li>图片资源的命名：同上</li>
<li>颜色值的命名：<code>color_description以color</code>为前缀，全部小写，下划线分割。<br>description既可以是该颜色使用的功能描述，也可以是该颜色的英文描述，也可以是具体的颜色值，例如：<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="attribute">color</span> name=<span class="string">"color_white"</span>&gt;<span class="hexcolor">#ffffff</span>&lt;/<span class="attribute">color</span>&gt;</span><br><span class="line">&lt;<span class="attribute">color</span> name=<span class="string">"color_grey_ccc"</span>&gt;<span class="hexcolor">#cccccc</span>&lt;/<span class="attribute">color</span>&gt;</span><br><span class="line">&lt;<span class="attribute">color</span> name=<span class="string">"color_grey_ddd"</span>&gt;<span class="hexcolor">#dddddd</span>&lt;/<span class="attribute">color</span>&gt;</span><br><span class="line">&lt;!-- 因为grey可能有很多的等级，有时候需要不同等级的灰色，没有那么多英文名可以区分，所以名字中可以直接使用颜色值 --&gt;</span><br><span class="line">&lt;<span class="attribute">color</span> name=<span class="string">"color_button_pressed"</span>&gt;<span class="hexcolor">#4c4c4c</span>&lt;/<span class="attribute">color</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>根据功能定义description，表示该颜色用于按钮按下<br>注：不允许出现毫无意义的命名，例如 <code>textview1</code>,<code>textview2</code></p>
<h1 id="2-__u5173_u4E8E_u5B57_u9762_u5E38_u91CF"><a href="#2-__u5173_u4E8E_u5B57_u9762_u5E38_u91CF" class="headerlink" title="2. 关于字面常量"></a>2. 关于字面常量</h1><p>代码中不允许出现直接硬编码的字面常量，如果是控件上显示的文本，必须放在string.xml资源文件中。如果是代码中用到的常量字符串，必须定义成<code>public static final String</code>类型的常量值，在代码中使用该定义的常量值。</p>
<p>这样做的好处是以后需要修改该常量值，只需要修改一个地方。如果是硬编码在代码中则需要修改所有使用它的地方，而且拷贝容易出错。</p>
<p>在Activity之间传递参数的时候，<code>intent.putExtra</code>的key值也要符合命名规范，并且统一定义为静态常量，不能直接硬编码在代码中，否则想要修改的时候非常麻烦。某一个Activity在被启动的时候需要接受参数，那么这些参数的key定义就应该放在该Activity中。</p>
<h1 id="3-_JSON_u89E3_u6790"><a href="#3-_JSON_u89E3_u6790" class="headerlink" title="3. JSON解析"></a>3. JSON解析</h1><p>Android中调用服务器端的接口一般返回的是JSON数据，在解析JSON的时候，无论是使用原始的手工解析方式，还是使用javabean的解析方式，解析出来的结果在使用的时候必须都进行判空处理。不允许因为服务端的json出问题，导致app在解析json的时候出现崩溃。</p>
<h1 id="4-__u7C7B_u6210_u5458_u521D_u59CB_u5316"><a href="#4-__u7C7B_u6210_u5458_u521D_u59CB_u5316" class="headerlink" title="4. 类成员初始化"></a>4. 类成员初始化</h1><p>所有类的成员变量一定要赋初始值，不允许只定义，不赋值。</p>
<h1 id="5-_Int_u7C7B_u578B_u5E38_u91CF"><a href="#5-_Int_u7C7B_u578B_u5E38_u91CF" class="headerlink" title="5. Int类型常量"></a>5. Int类型常量</h1><p>函数返回的时候，如果返回的int类型的数据并不是真实的实用的数据值（例如表示宽度、高度、大小等值），仅仅代表函数执行成功、失败、异常的状态值，并且这些值是有限的几个值，必须要将这些值使用静态常量描述，或者使用枚举类型，例如：</p>
<p><code>int GetJsonString()</code><br>该函数返回-1表示获取解析JSON数据异常，返回0表示成功，返回1表示网络连接异常，返回2表示JSON内容中的数据部分为空。</p>
<p>那么在函数内部的代码里不要直接使用这些字面值，这些字面值对于程序员来说是毫无意义的，代码可阅读性很差，建议做成下面的模式：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> RESULT_PARSE_JSON_EXCEPTION = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> RESULT_SUCCESS = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> RESULT_NETWORK_EXCEPTION = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> RESULT_NO_DATA = <span class="number">2</span>;</span><br></pre></td></tr></table></figure></p>
<p>使用这些符号常量值代替字面值的好处是，符号常量值是由大写的英文单词组成，是有意义的，可以帮助程序员更好的理解函数返回值的意义，而且符号常量值对应的具体的赋值在后期也是很方便修改的。</p>
<h1 id="6-_Activity__u63A5_u53D7_u53C2_u6570_u4E0E_u6A21_u5757_u5316"><a href="#6-_Activity__u63A5_u53D7_u53C2_u6570_u4E0E_u6A21_u5757_u5316" class="headerlink" title="6. Activity 接受参数与模块化"></a>6. Activity 接受参数与模块化</h1><p>如果一个Activity可能在多个地方被打开，或者一个Fragment可能在多个地方被用到。那么在设计该Activity和Fragment的时候一定要考虑低耦合，对外提供统一的参数接口，启动Activity的过程封装在该Activity类的静态成员方法里。</p>
<p>类似如下：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> &#123;</span></span><br><span class="line">    ...</span><br><span class="line">    public static void startActivity(<span class="type">Context</span> context, <span class="type">Params</span> param) &#123;</span><br><span class="line">        <span class="type">Intent</span> intent = <span class="keyword">new</span> <span class="type">Intent</span>(context, <span class="type">MyActivity</span>.<span class="keyword">class</span>);</span><br><span class="line">        intent.putExtra(<span class="string">"param"</span>, param);</span><br><span class="line">        startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void startActivityForResult(<span class="type">Context</span> context, <span class="type">Params</span> param) &#123;</span><br><span class="line">        <span class="type">Intent</span> intent = <span class="keyword">new</span> <span class="type">Intent</span>(context, <span class="type">MyActivity</span>.<span class="keyword">class</span>)</span><br><span class="line">        intent.putExtra(<span class="string">"param"</span>, param);</span><br><span class="line">        startActivityForResult(intent, <span class="type">REQUEST_CODE</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>参数的传递最好是封装在一个Model实体中，避免使用Map这种方式进行参数传递。建议该实体类实现为对应的Activity的静态可序列化的内部类。</p>
<h1 id="7-_Android_Studio__u5DE5_u7A0B_u76EE_u5F55_u7EC4_u7EC7"><a href="#7-_Android_Studio__u5DE5_u7A0B_u76EE_u5F55_u7EC4_u7EC7" class="headerlink" title="7. Android Studio 工程目录组织"></a>7. Android Studio 工程目录组织</h1><p>Android Studio 中的项目的包结构应该根据工程各个部分的功能来组织。</p>
<h1 id="8-_Handler__u7684_u5C01_u88C5"><a href="#8-_Handler__u7684_u5C01_u88C5" class="headerlink" title="8. Handler 的封装"></a>8. Handler 的封装</h1><p>每个Activity里面几乎都会定义一个Handler内部类，但是很多Activity里面的Handler都使用了重复的消息类型，这里面是有冗余代码的，所以应该把这些Activity都是用到的Handler类的消息部分，提取成一个公共的Handler类。</p>
<p>然后在各个Activity里面使用继承的方式，来提供该Activity特有的Handler消息类型的Handler类实现。</p>
<p>另外Handler发送消息应该使用Handler类的成员函数，不应该直接使用<code>handler.obtainMessage(xxx).sendToTarget()</code>;这种原始的发送消息的方式，这样不利于降低耦合，这种细节应该隐藏在Handler类的里面。</p>
<p>Handler的消息类型应该定义为Handler类里面的静态常量，而该常量不应是public的，对外部不可见。也就是说使用handler对象发送消息的细节不应该暴露给外部。</p>
<h1 id="9-_List__u6570_u636E_u66F4_u65B0"><a href="#9-_List__u6570_u636E_u66F4_u65B0" class="headerlink" title="9. List 数据更新"></a>9. List 数据更新</h1><p>封装ListView的数据更新，在handlerMessage中更新数据，避免出现<code>java.lang.IllegalStateException</code>问题</p>
<h1 id="10-_Activity__u4E0E_Fragment__u4E4B_u95F4_u4F20_u9012_u53C2_u6570"><a href="#10-_Activity__u4E0E_Fragment__u4E4B_u95F4_u4F20_u9012_u53C2_u6570" class="headerlink" title="10. Activity 与 Fragment 之间传递参数"></a>10. Activity 与 Fragment 之间传递参数</h1><p>Activity与Fragment的数据传递采用interface的方式，也就是代理的方式，这样可以降低耦合，有利于Fragment的复用：<br>在你的fragment中定义一个接口：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">OnDataPass</span> &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onDataPass</span>(<span class="params">String data</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后，在你的fragment中onAttach(Activity a)方法中实例化一个OnDataPass：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">OnDataPass dataPasser;</span><br><span class="line"></span><br><span class="line"><span class="annotation">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">void</span> <span class="title">onAttach</span><span class="params">(Activity a)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>.onAttach(a);</span><br><span class="line">    dataPasser = (OnDataPass) a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>在你的fragment中，当你想处理传递的数据时，只需要调用dataPasser的onDataPass方法即可：<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="literal">void</span> passData(<span class="built_in">String</span> <span class="built_in">data</span>) &#123;</span><br><span class="line">    dataPasser<span class="built_in">.</span>onDataPass(<span class="built_in">data</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后，在你的容器activity中实现OnDataPass接口：<br><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MyActivity</span> <span class="keyword"><span class="keyword">extends</span></span> <span class="title">Activity</span> <span class="title">implements</span> <span class="title">OnDataPass</span> &#123;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    public void onDataPass(<span class="type">String</span> data) &#123;</span><br><span class="line">        <span class="type">Log</span>.d(<span class="string">"LOG"</span>, <span class="string">"Hello "</span> + data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="11-__u7F51_u7EDC_u8BF7_u6C42_u6570_u636E_u6A21_u5757_u5316"><a href="#11-__u7F51_u7EDC_u8BF7_u6C42_u6570_u636E_u6A21_u5757_u5316" class="headerlink" title="11. 网络请求数据模块化"></a>11. 网络请求数据模块化</h1><p>一般在Activity中我们通过网络请求服务端的接口获得数据，这个过程一般是在一个线程中做的，获取到数据之后，再通过Activity中的handler发送消息来通知Activity更新数据。</p>
<p>该负责获取数据的线程类，我们一般都实现为一个Activity的内部类，该类可以直接访问Activity的成员变量，例如handler，数据列表对象等。但是这样不利于该数据获取线程的复用。如果另一个Activity里面也需要获取相同的数据，那么这个功能是不能复用的。</p>
<p>所以这个负责数据请求的线程类，不应该与具体的Handler和Activity联系过于紧密。应该定义为一个静态类，handler应该作为参数传递进来，而不是直接访问外部类的成员变量。</p>
<h1 id="12-__u5C01_u88C5_Log__u529F_u80FD"><a href="#12-__u5C01_u88C5_Log__u529F_u80FD" class="headerlink" title="12. 封装 Log 功能"></a>12. 封装 Log 功能</h1><p>Log功能应该封装成为自动将当前所在类的类名变成log输出的TAG参数，发布的app最好是能循环写日志文件到系统存储中，并且日志文件应该使用反复覆盖的方式重复利用。</p>
<p>下面仅仅是一个不完善的例子：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyLog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String TAG = <span class="string">"myapp "</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">v</span><span class="params">(Object o, String message)</span> </span>&#123;</span><br><span class="line">        Log.v(TAG + o.getClass().getSimpleName(), message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用方法：<br><code>MyLog(this, &quot;Hello Log&quot;);</code><br>打印结果<br><code>V/myapp MainActivity: Hello Log</code></p>
<p>#13. 版本控制<br>使用自动化版本管理，自动生成版本号，使应用程序的版本与版本库上保持一致。</p>
<p>使用hg替换工程目录下的app目录下的build.gradle文件即可，如果AndroidManifest.xml里面也有版本号的设置，AndroidStudio还是以build.gradle为准。不应该在每次发布的时候，在AndroidStudio的工程设置里面手工修改版本号。</p>
<h1 id="14-__u4E3A_u7A0B_u5E8F_u6DFB_u52A0_u5168_u5C40_u5F02_u5E38_u6355_u83B7"><a href="#14-__u4E3A_u7A0B_u5E8F_u6DFB_u52A0_u5168_u5C40_u5F02_u5E38_u6355_u83B7" class="headerlink" title="14. 为程序添加全局异常捕获"></a>14. 为程序添加全局异常捕获</h1><p>应该为app添加全局异常捕获，app中总会有一些我们未捕获的异常，一旦用户使用过程中遇到这样的异常，程序就会崩溃，我们应该检测该类未捕获的异常信息，程序崩溃的时候通过写文件日志，或者发送邮件的方式获得异常信息，以便解决bug。</p>
<h1 id="u8F6C_u81EAhttp_3A//www-jianshu-com/p/78fa1e77a41f"><a href="#u8F6C_u81EAhttp_3A//www-jianshu-com/p/78fa1e77a41f" class="headerlink" title="转自http://www.jianshu.com/p/78fa1e77a41f"></a>转自<a href="http://www.jianshu.com/p/78fa1e77a41f">http://www.jianshu.com/p/78fa1e77a41f</a></h1>
      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015-12/20-cir6hfbpc000x9wr20ncaq08p/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          ubuntu配置环境变量详解
        
      </div>
    </a>
  
  
    <a href="/2015-12/11-cir6hfbq7001n9wr2rd7mc0no/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">AsyncTask的用法</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>




<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Android编程规范不完全指南【转】" data-title="Android编程规范不完全指南【转】" data-url="http://www.iamding.cn/2015-12/15-cir6hfbq7001p9wr2e56muysd/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<span id="busuanzi_container_site_uv">
  您是第<span id="busuanzi_value_site_uv"></span>次访问本站的人哦~~~
</span>
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">
        &copy; 2016 绝世盗草人
      <a href="http://www.miitbeian.gov.cn" target="_blank">京ICP备15064145号</a>
      </div>
        <div class="footer-right">
          <a href="http://hexo.io/" target="_blank">Hexo</a>  
      Theme 
      <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> 
      by Litten and Modified by 绝世盗草人
        </div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>